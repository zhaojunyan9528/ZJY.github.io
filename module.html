<!DOCTYPE html>
<html lang="en" data-theme="default">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>换肤</title>
  <style>
    :root {
      --textColor: blue;
    }
    [data-theme="red"] {
      --textColor: red;
    }
    [data-theme="green"] {
      --textColor: green;
    }
    .container {
      color: var(--textColor);
    }
  </style>
</head>
<body>
  <div>
    换肤：
    <input id="default" name="skin" type="radio" value="default" checked><label for="default">默认</label>
    <input id="red" name="skin" type="radio" value="red"><label for="red">红色</label>
    <input id="green" name="skin" type="radio" value="green"><label for="green">绿色</label>
  </div>
  <div class="container">
    Web Worker 的作用，就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行。在主线程运行的同时，Worker 线程在后台运行，两者互不干扰。等到 Worker 线程完成计算任务，再把结果返回给主线程。这样的好处是，一些计算密集型或高延迟的任务，被 Worker 线程负担了，主线程（通常负责 UI 交互）就会很流畅，不会被阻塞或拖慢。
    Worker 线程一旦新建成功，就会始终运行，不会被主线程上的活动（比如用户点击按钮、提交表单）打断。这样有利于随时响应主线程的通信。但是，这也造成了 Worker 比较耗费资源，不应该过度使用，而且一旦使用完毕，就应该关闭。
    Web Worker 有以下几个使用注意点。
  </div>
  <script>
    const $ = document.querySelectorAll.bind(document)
    const html = $('html')[0]
    var radios = $('input[type=radio]');
    [].slice.call(radios).forEach(radio => {
      radio.addEventListener('click', function() {
        var value = this.value;
        html.setAttribute('data-theme', value)
      })
    })

    fetch("http://pmcp-gateway.dev.hxss.com.cn/gateway/client")
    .then(res => res.json())
    .then(data => console.log(data))

  </script>
</body>
</html>